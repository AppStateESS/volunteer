sudo: false
matrix:
  include:
  - language: php
    php:
    - 7
    script:
    - ".travis-build/phplint ."
  - language: node.js
    node_js: 10.20.1
before_install:
- npm i -g npm@v6.14.8
install:
- npm install
after_success:
- npm run build
- rm -rf node_modules
- tar -czf volunteer.tar.gz *
deploy:
  provider: releases
  skip_cleanup: true
  api-key: 
    secure: MRME21tJvA8JLUTDNspUV97kdtfCTZdd5o9bqT7hGw+RcfDc91oSEBHYt5V14/0nM+Vq5CzGl/o+TRcbxrKSg7UnQAjPphh7JaBZEm2oEQ6uCavSN5wdpXpuYbuk8xx8Dal6J7SJkb5x+wj8r1z9REnLGldx63r+A0tUgSArDOpZf2FWea0MX4fUCkDumX5kFvidtDV4tvNcSlzVCHhloV6GbtzmGnAy8/2v7tVD6u18TvzwjYPqIkQq2vZOrGShMqjd3Byinlh9ljaNzGHSinHoRra36XLNvlW8nk/jRf/VSkZu5WhR1vD/54Aea3AaJuy9lID1+1sg+HjWnC2NRsjDAHvL4D2H4V/JVHwOzz40r/f87lVRf39MXUm3woeXn6Cby3zu+xUfXK0TWgMDGlHejg8mf65uZ/9fbMwf4GqCrizWcjvL4eqxxtSuen0RNeuChsRwGmQZjMGjQLMzcQtHv5wOo+GTvKYIO7/URCfQDsb5NWmEukyBWRWhJUglT7cdcc5khQvz0OZ/cGVVcl1EOPqD/vC6bwmyTwUUzWYD+hpo1SQgprU4kvpT6sl8bsIrRuoAU61FQj2La/pCVNeDAZTSNqjr+5ZOcQ0Oqz4zzg3Qn5eB0gBQ01HUMTjpfumaNjMDUJR7kFLPiEEIqvqKdpNm+JJMocSxRe0Mjq8=
  file: volunteer.tar.gz
  overwrite: true
  on:
    repo: AppStateESS/volunteer
    branch: master
    tags: true
